if (self.CavalryLogger) { CavalryLogger.start_js(["GDjcS"]); }

__d("XCometCommerceProductItemControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/commerce/products/{listing_id}/",Object.freeze({}),void 0);e.exports=a}),null);
__d("CometProductTagHScroll_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometProductTagHScroll_page",selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagSeeAllCard_page"}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("CometProductTagHScroll_productTags.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"CometProductTagHScroll_productTags",selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometProductTagListItem_productTag"}],type:"ProductTag",abstractKey:null};e.exports=a}),null);
__d("CometProductTagListItem_productTag.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometProductTagListItem_productTag",selections:[a,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:"picture",args:[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:120,width:120)"}],storageKey:null}],type:"ProductTag",abstractKey:null}}();e.exports=a}),null);
__d("CometProductTagSeeAllCard_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometProductTagSeeAllCard_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:120,width:120)"},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("CometVideoViewerTaggedProductsSection_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometVideoViewerTaggedProductsSection_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagHScroll_page"}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"video_product_tags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagHScroll_productTags"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_shopping_video",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("CometProductTagReferralCodeContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");e.exports=a.createContext(null)}),null);
__d("CommercePdpProductTagClickFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","commerce_pdp_product_tag_click");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CommerceViewProductTagFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","commerce_view_product_tag");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CometProductTagListItem.react",["ix","fbt","CometCard.react","CometImage.react","CometLink.react","CometMediaViewerPhotoActions","CometProductTagFunnelIDContext","CometProductTagReferralCodeContext","CometRelay","CometTooltip.react","CommercePdpProductTagClickFalcoEvent","CommerceViewProductTagFalcoEvent","ProductTaggingBuyerTypedLogger","React","TetraCircleButton.react","TetraText.react","XCometCommerceProductItemControllerRouteBuilder","emptyFunction","fbicon","stylex","useVisibilityObserver","CometProductTagListItem_productTag.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=b("React"),l=120,m="#",n={crossButton:{end:"b5fwa0m2",position:"pmk7jnqg",top:"plgsh5y4"},image:{objectFit:"bixrwtb6"},imageContainer:{display:"j83agx80",height:"pe468gzs",position:"l9j0dhe7",width:"pnicyljo"},imageLinkActive:{backgroundColor:"pugbgu5t",display:"a8c37x1j",opacity:"byekypgc",textDecoration:"esuyzwwr"},inset:{bottom:"i09qtzwb",boxShadow:"oaz4zybt",height:"ay7djpcl",position:"pmk7jnqg",width:"k4urcfbm"},nameContainer:{marginBottom:"oud54xpy"},priceContainer:{alignItems:"bp9cbjyn",display:"j83agx80"},rootContainer:{width:"pnicyljo"},textContainer:{height:"qu8okrzs",paddingTop:"l29c1vbm",paddingEnd:"d1544ag0",paddingBottom:"j7796vcc",paddingStart:"tw6a2znq"}};function a(a){var c,d=k.useState(!1),e=d[0],f=d[1],o=b("CometRelay").useRelayEnvironment();d=b("CometRelay").useFragment(i!==void 0?i:i=b("CometProductTagListItem_productTag.graphql"),a.productTag);var p=d==null?void 0:d.id,q=d==null?void 0:d.product_item,r=k.useContext(b("CometProductTagFunnelIDContext")),s=k.useRef(!1);d=function(){if(s.current)return;b("CommerceViewProductTagFalcoEvent").log(function(){return{ad_id:a.adID,component:"CometProductTagListItem",funnel_id:r,marketplace_surface:a.surface,post_id:a.postID,product_id:q==null?void 0:q.id,referral_code:a.referralCode}});s.current=!0};d=b("useVisibilityObserver")({onVisible:d});var t=k.useContext(b("CometProductTagReferralCodeContext")),u=k.useRef(!1),v=function(){b("CommercePdpProductTagClickFalcoEvent").log(function(){return{ad_id:a.adID,component:"CometProductTagListItem",funnel_id:r,marketplace_surface:a.surface,post_id:a.postID,product_id:q==null?void 0:q.id,referral_code:a.referralCode}});if(t!=null&&!u.current){var c=new(b("ProductTaggingBuyerTypedLogger"))();c.updateData({component:"CometProductTagListItem",post_id:a.postID,referral_code:t,surface:"page_photos_tab",unresolved_event:"Actn_PDPProductTagClick"}).log();u.current=!0}},w=function(){if(p==null)return;var a={product_tag_id:p};b("CometMediaViewerPhotoActions").deleteProductTag({environment:o,input:a,onError:function(){return f(!1)}});f(!0)};if(q==null||q.id==null||((c=q.picture)==null?void 0:c.uri)==null||q.name==null||((c=q.formatted_price)==null?void 0:c.text)==null)return null;c=r!=null?a.referralCode+m+r:a.referralCode;c=b("XCometCommerceProductItemControllerRouteBuilder").buildURL({listing_id:q.id,referral_code:c});return k.jsx("div",{className:(j||(j=b("stylex")))(n.rootContainer),ref:d,children:k.jsx(b("CometCard.react"),{background:"white",dropShadow:2,children:k.jsxs(b("CometLink.react"),{href:c,onClick:v,xstyle:a.isProductHighlighted?n.imageLinkActive:null,children:[k.jsxs("div",{className:j(n.imageContainer),children:[k.jsx(b("CometImage.react"),{alt:h._("Product Image"),height:l,src:(c=(d=q.picture)==null?void 0:d.uri)!=null?c:"",width:l,xstyle:n.image}),k.jsx("div",{className:j(n.crossButton),children:(q==null?void 0:q.is_viewer_seller)===!0?k.jsx(b("CometTooltip.react"),{position:"above",tooltip:h._("Remove Product Tag"),children:k.jsx(b("TetraCircleButton.react"),{disabled:e,icon:b("fbicon")._(g("478233"),20),label:h._("Remove product tag"),onPress:e?b("emptyFunction"):w,size:32,type:"dark-overlay"})}):null}),k.jsx("div",{className:j(n.inset)})]}),k.jsxs("div",{className:j(n.textContainer),children:[k.jsx("div",{className:j(n.nameContainer),children:k.jsx(b("TetraText.react"),{color:"primary",numberOfLines:2,type:"bodyLink4",children:q.name})}),k.jsx("div",{className:j(n.priceContainer),children:k.jsx(b("TetraText.react"),{color:"primary",numberOfLines:1,type:"body4",children:(v=q.formatted_price)==null?void 0:v.text})})]})]})})})}}),null);
__d("CometProductTagSeeAllCard.react",["fbt","CometCard.react","CometImage.react","CometLink.react","CometRelay","React","TetraText.react","stylex","CometProductTagSeeAllCard_page.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=b("React"),k=120,l={image:{objectFit:"bixrwtb6"},imageContainer:{height:"pe468gzs",position:"l9j0dhe7",width:"pnicyljo"},imageLink:{display:"a8c37x1j",":hover":{textDecoration:"p8dawk7l"}},inset:{bottom:"i09qtzwb",boxShadow:"oaz4zybt",height:"ay7djpcl",position:"pmk7jnqg",width:"k4urcfbm"},rootContainer:{width:"pnicyljo"},textContainer:{height:"qu8okrzs",paddingTop:"l29c1vbm",paddingEnd:"d1544ag0",paddingBottom:"j7796vcc",paddingStart:"tw6a2znq"}};function a(a){var c;a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometProductTagSeeAllCard_page.graphql"),a.page);var d=a.full_name;c=(c=a.profile_picture)==null?void 0:c.uri;a=a.url;return d==null||c==null||a==null?null:j.jsx("div",{className:(i||(i=b("stylex")))(l.rootContainer),children:j.jsx(b("CometCard.react"),{background:"white",dropShadow:2,children:j.jsxs(b("CometLink.react"),{href:a+"shop/",xstyle:l.imageLink,children:[j.jsxs("div",{className:i(l.imageContainer),children:[j.jsx(b("CometImage.react"),{alt:g._("Page Logo"),height:k,src:c,width:k,xstyle:l.image}),j.jsx("div",{className:i(l.inset)})]}),j.jsx("div",{className:i(l.textContainer),children:j.jsx(b("TetraText.react"),{color:"primary",numberOfLines:3,type:"bodyLink4",children:g._("See All Products in {page name}",[g._param("page name",d)])})})]})})})}}),null);
__d("CommerceViewProductTaggedPostFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","commerce_view_product_tagged_post");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("HoveredProductIDContext",["React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({hoveredProductID:null,setHoveredProductID:b("emptyFunction")});e.exports=c}),null);
__d("CometProductTagHScroll.react",["fbt","CometHScroll.react","CometHScrollChild.react","CometProductTagFunnelIDContext","CometProductTagListItem.react","CometProductTagSeeAllCard.react","CometRelay","CommerceViewProductTaggedPostFalcoEvent","HoveredProductIDContext","React","useVisibilityObserver","CometProductTagHScroll_page.graphql","CometProductTagHScroll_productTags.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=b("React"),k=4,l=2,m=120,n=140;function a(a){var c=b("CometRelay").useFragment(h!==void 0?h:h=b("CometProductTagHScroll_page.graphql"),a.page),d=b("CometRelay").useFragment(i!==void 0?i:i=b("CometProductTagHScroll_productTags.graphql"),a.tags),e=j.useContext(b("CometProductTagFunnelIDContext")),f=j.useRef(!1),o=function(){if(f.current)return;b("CommerceViewProductTaggedPostFalcoEvent").log(function(){return{ad_id:a.adID,component:"CometProductTagHScroll",funnel_id:e,marketplace_surface:a.surface,post_id:a.postID,referral_code:a.referralCode}});f.current=!0};o=b("useVisibilityObserver")({onVisible:o});var p=j.useContext(b("HoveredProductIDContext"));d=d.map(function(c,d){var e;e=p.hoveredProductID===((e=c.product_item)==null?void 0:e.id);return c!=null&&c.product_item!=null&&c.product_item.id!=null?j.jsx(b("CometHScrollChild.react"),{width:m,children:j.jsx("div",{onMouseEnter:function(){var a;return p.setHoveredProductID((a=c.product_item)==null?void 0:a.id)},onMouseLeave:function(){return p.setHoveredProductID(null)},children:j.jsx(b("CometProductTagListItem.react"),{adID:a.adID,creationStoryDebugInfo:a.creationStoryDebugInfo,creationStorySerializedIDs:a.creationStorySerializedIDs,isProductHighlighted:e,postID:a.postID,productTag:c,referralCode:a.referralCode,surface:a.surface},c.product_item.id)},d)},d):null}).filter(Boolean);if(d==null||d.length===0)return null;d.push(j.jsx(b("CometHScrollChild.react"),{width:n,children:j.jsx(b("CometProductTagSeeAllCard.react"),{page:c},"end")},"end"));return j.jsx("div",{ref:o,children:j.jsx(b("CometHScroll.react"),{accessibilityLabel:g._("Tagged Products"),children:d,horizontalSnapPadding:10,horizontalSpacing:k,itemsToScroll:l,snapPosition:"center"})})}}),null);
__d("CometVideoViewerTaggedProductsSection.react",["fbt","CometProductTagHScroll.react","CometRelay","React","TetraText.react","gkx","stylex","CometVideoViewerTaggedProductsSection_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j="product_tag_on_video_fullscreen_";function a(a){a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometVideoViewerTaggedProductsSection_video.graphql"),a.video);var c=a.id;if(c==null||Boolean(a.is_shopping_video)&&!b("gkx")("1566761"))return null;var d=a.owner;if(d==null)return null;var e=a.video_product_tags;return e==null||e.length===0?null:i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"discj3wi ihqw7lf3",children:i.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink2",children:g._("Shop this Video")})}),i.jsx(b("CometProductTagHScroll.react"),{adID:(a=a.creation_story)==null?void 0:(a=a.sponsored_data)==null?void 0:a.ad_id,page:d,postID:c,referralCode:j+c,surface:"video_fullscreen",tags:e})]})}}),null);